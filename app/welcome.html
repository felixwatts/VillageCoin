<!DOCTYPE html>
<html>
<head>
  <title>RedditVillage - Welcome</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <script src="./common.js"></script>
</head>
<body>
    <div class="page">
        <h1><span class="villageName"></span></h1>
        <h2>Welcome</h2>

        <p><span class="villageName"></span> is a currency and monetary system owned and run by Reddit users</p>

        <p>Unlike most currencies, <span class="villageName"></span> implements a one person; one account policy, which means that each citizen can have at most one <span class="villageName"></span> bank account. This allows some interesting features of <span class="villageName"></span> including:</p>

        <ul>
            <li>Democracy</li>
            <li>Basic Income</li>
            <li>Automatic taxation</li>
        </ul>

        <p>The <span class="villageName"></span> economy is open to any Reddit user with a decent level of karma</p>

        <p>Account holders in <span class="villageName"></span> are called <em>citizens</em>. Citizens control and manage <span class="villageName"></span> through referendums, doing things like:</p>

        <ul>
            <li>Creating money</li>
            <li>Setting tax policy</li>
            <li>Spending public funds</li>
        </ul>

        <p>If you would like to join the <span class="villageName"></span> economy why not <a href="howToJoin.html">claim your account</a>?</p>

        <!-- <button onclick="applyTaxes()">apply taxes</button>
        <p><input type="text" id="user" placeholder="username" ></input><input type="text" id="addr" placeholder="addr"></input><button onclick="addUser()">ADD USER </button></p> -->

        <div class="footer">Checkout my <a href="https://github.com/felixwatts/VillageCoin">sourcecode on github</a></div>
    </div>
</body>
</html>
</html>
<script>

async function addUser() 
{
    try
    {
        await app.contract.addCitizen(document.getElementById("addr").value, document.getElementById("user").value, {from: app.account}); 
    }
    catch(error)
    {
        console.log(error);
    }    
}    

async function applyTaxes() 
{
    try
    {
        await app.contract.applyTaxesIfDue({from: app.account});
    }
    catch(error)
    {
        console.log(error);
    }
}
    
    window.addEventListener('load', async function()
    { 
        await init();      
    });
</script>
